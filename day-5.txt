---
- name: install Apache Server
  apt:
    name: apache2
    state: absent
  when: install_apache_flag

# putting mutiple conditions using ansible flag
- name: combine conditions
  debug:
    var: ansible_facts['kernel_version']
  when:
    - ansible_facts['os_family'] =="Debian"
    - ansible_facts['distribution_major_version']=="20"

# Register a variable and evaluate the value using when condition
- name: Register the variable
  ansible.builtin.command: cat /home/ubuntu/test-file.txt
  register: test_file_content

- name: use the var in conditional statement
  debug:
    var: test_file_content.stdout
  when: test_file_content.stdout.find('hi') != -1
